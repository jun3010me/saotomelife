---
title: ブログのサーバーをwpX Speedに移行した
author: 魚住 惇
type: post
date: 2022-01-16T08:05:44+00:00
excerpt: このブログのレンタルサーバーをwpX Speedに移行しました
url: /wpx-speed-22511.html
thumbnail: /wp-content/uploads/2022/01/df7f88f974cc9fc06430508d787dc37f.jpg
wp-seo-meta-robots:
  - 'a:0:{}'
categories:
  - ブログ考察

---
こんにちは、魚住惇です。

これまで、当ブログ「さおとめらいふ」は**さくらのレンタルサーバー**を使っていましたが、この度、**Xserver社のwpX Speed**に乗り換えました。 そのことについて少し話そうかなと思います。

## さくらのレンタルサーバーが、ちょっとだけ遅かった

僕はこのブログを初めてレンタルサーバーに移植したときから、ほぼずっとさくらのレンタルサーバーを使ってきました。 レンタルサーバーの前は、自宅にあるCentOSサーバーにLAMP環境を用意して、WordPressをインストールして使っていました。 自宅だとどうしてもDDNSを設定したり、サーバーの電源を入れっぱなしにしたりと、自宅ならではのリスクと戦うことが結構悩みの種でした。 それから、さくらのレンタルサーバーにデータを移した時は、あまりにもの管理の楽さに感動しました。今思えばクラウドにデータを預けている感覚に似ています。

そこからアクセスが伸びてきたタイミングで、さくらのVPSに移行しました。やっぱりちょっと、サーバーをいじる楽しさに飢えていたんですよ。 そこから更に冒険してみたくてXserverに移行したものの、503が出るようになり、さくらのクラウドでサーバーを立てるようになりました。イベントで2万円クーポンをもらったのがきっかけでした。

その後はしばらく、さくらのクラウドでKUSANAGIを使う時代が続きました。そのころは僕も「フラペチーノ先生」としてスタバカスタマイズブログを書いていたので、ブログ用のサーバーに毎月5000円？まぁ勉強がてらの必要経費でしょ！なーんて言っていました。今じゃ絶対に許されないし考えもできない金額です。

で、再びさくらのレンタルサーバーに戻ってきたのが2年ほど前です。結婚したのがきっかけでした。 ついさっきまで契約していたのは、「さくらのレンタルサーバーのプレミアムプラン」です。月額1500円ほどかかりますが、そこそこ良さげな性能でした。

ところがこのブログも画像をたくさん使うので、ちょっとしたサーバーの遅さに対してストレスを感じるようにもなってきました。 どこまで信頼できる内容かはわかりませんが、ページの表示速度があまりにも遅いと、SEOにも影響が出るそうです。

まぁ検索順位が本当に上がるかどうかは置いといて、少しでもこのブログを見てくださっている方のために、反応が早いwpX Speedに移行してみることにしました。

## wpX Speedに惹かれたポイント

数あるレンタルサーバーの中で、wpX Speedに惹かれた理由は次の3つでした。

<ul class="is-style-vk-numbered-square-mark">
  <li>
    表示が速い(らしい)
  </li>
  <li>
    さくらのレンタルサーバー(プレミアム)よりちょっとだけ安い
  </li>
  <li>
    他で運用中のWordPressからの移行が簡単
  </li>
</ul>

僕が特に良いなと思ったのが、3つ目の「移行の簡単さ」です。wpX Speedを契約する前にプランの説明などを読んでいて、そこが一番目に入りました。 昔と違って自分の自由時間が少ない中で移行作業を行うのですから、短時間で済むのは魅力的です。

他にも、そもそもWordPressを動かすのが早かったりするのも採用理由の一つですが、まぁ以前の環境よりは速くはなるだろうと思っていたので、その次に重要なポイントばかりに目が入っていたというのもあります。

## サーバーの移行で困ったこと

引っ越し先をwpX Speedに決めた理由に「移行が簡単」というのがあったわけですが、実は僕の環境ではうまく移行できませんでした。 というか個人的にヒヤヒヤした1日を過ごしました。この辺りについて書いていきます。

### SSL証明書の扱いが厄介だった

このブログはhttpsでアクセスできるようにしています。SSLで暗号化した通信を行うように設定しました。 ところがこのSSLの証明書の扱いが厄介でした。 まず、引っ越す前の環境で既にSSL証明書が取得してある状態で、wp-contentの中身とデータベースを引っ越し先にインポートできたとしても、引っ越し先にSSL証明書がないので正しく表示されません。

よくある解決策としては、一度SSLの設定を無効化してhttpでアクセスできるようにして、サイトを引っ越し、データの移行が終わってからDNSレコードを新サーバーに向けたタイミングで再びhttps化するっていうのがあるらしいです。ですがこの、「一度http」にするというのが面倒だなと思ってしまったので、httpsのまま移行することを試みました。

これがなかなか茨の道だったようで、元の環境でSSL関連の設定で、特にリダイレクトに関連する機能を無効化する必要がありました。 それと、実際に新しい環境でSSL証明書を発行してもらうためには、DNSレコードを新サーバーに向ける必要もありました。

つまり、旧サーバーから新サーバーに移行した直後はSSL証明書が未取得なので、サイトにアクセスできない時間というのができてしまいました。

心境を正直に話すと、結構心臓に悪い作業でした。DNSレコードの更新だって、世界中に伝播するのに時間がかかりますし、SSL証明書の取得だって、すぐに完了できるものではありませんでしたから。

### SQLファイルのインポートに四苦八苦した

どうやらさくらのレンタルサーバーで使っていたMySQLよりも、wpX Speedで使われているMySQLのバージョンが古かったようで、インポート時に文字コード関連でエラーが出ました。

ネットで同様のことで困っている事例がないか調べたところ、 **utf8\_unicode\_520\_ci → utf8\_general_ci**  
**utf8mb4 → utf8** とSQLファイルの中身を置換すればOKという情報を得ることができました。

他にもエラーは出たんですが、エラーが発生していたテーブルとそうでないテーブルと分けてエクスポート＆インポートをした結果、うまくインポートできました。

本当だったらやらなくても済んだ苦労だとは思いますが、こういうトラブルにも無事対処できて良かったと、今では思っています。

## 速くなった代わりに失ったもの

あくまで僕の環境での話ですが、PCからもスマホからも、ブログの表示速度が上がったと思います。 移行する際、特にプラグインを止めたりとか、画像のサイズを軽くするとかの作業はやっていません。 それでもちょっとばかり速くなったので、個人的には満足です。

その代わり、**wpX SpeedがSSH接続に対応していないことが個人的に残念**でした。 まぁそこをどうしてもと言うなら、普通のXServerあたりをレンタルすれば良い話ですけどね。

一昔前なら、外にサーバーを借りているなら、そこにSSH接続してコマンドを叩きたいよなぁとばかり考えていました。さくらのレンタルサーバーを選んだのも、SSH接続できるってのがその当時の魅力でした。

でも今は自宅にRaspberry Piもあるし、Pythonを書きたいならiPadでも書けるし。「いつでもどこでもLinuxコマンドを叩きたい」という欲がなくなってきました。老化でしょうか。

今回紹介したwpX Speedのサイトはこちらです。<figure class="wp-block-embed is-type-rich is-provider-wp-oembed-blog-card wp-block-embed-wp-oembed-blog-card">

<div class="wp-block-embed__wrapper">
  {{< blog-card "https://px.a8.net/svt/ejp?a8mat=25MYF4+80R96A+CO4+ZW0CI">}}
</div></figure> 

こちらのリンクはアフィリエイトリンクです。リンク先よりサーバーを契約すると、僕に少しだけお金が入るようになっています。 もしこのサーバーに移行したことで、表示が速くなった！と感じた方は、Twitterや下のコメント欄などに、感想を書いていただけると嬉しいです。